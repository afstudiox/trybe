### **Agora, a prÃ¡tica**
#


ğŸš€ VocÃª vai desenvolver uma aplicaÃ§Ã£o de busca de CEP, chamadaÂ `cep-lookup`. A aplicaÃ§Ã£o fornecerÃ¡ um serviÃ§o de busca e cadastro de CEPs em um banco de dados. Como bÃ´nus, em vez de cadastrar novos CEPs manualmente, a aplicaÃ§Ã£o consultarÃ¡ uma API externa para obter os dados do CEP desejado.

Utilize o banco de dados MySQL e execute a seguinte query para criar o banco e a tabela:

```
CREATE DATABASE IF NOT EXISTS cep_lookup;

USE cep_lookup;

CREATE TABLE IF NOT EXISTS ceps (
  cep VARCHAR(8) NOT NULL,
  logradouro VARCHAR(50) NOT NULL,
  bairro VARCHAR(20) NOT NULL,
  localidade VARCHAR(20) NOT NULL,
  uf VARCHAR(2) NOT NULL,
  PRIMARY KEY (cep)
);`
```

## **ExercÃ­cio 1**

- Crie uma nova API utilizando o express
    - A aplicaÃ§Ã£o deve ser um pacote Node.js;
    - DÃª ao pacote o nome deÂ `cep-lookup`;
    - Utilize o express para gerenciar os endpoints da sua aplicaÃ§Ã£o;
    - A aplicaÃ§Ã£o deve ter a rotaÂ `GET /ping`, que retorna o statusÂ `200 OK`Â e o seguinte JSON:

[ ]

`{ "message": "pong!" }`

- A aplicaÃ§Ã£o deve escutar na porta 3000;
- Deve ser possÃ­vel iniciar a aplicaÃ§Ã£o atravÃ©s do comandoÂ `npm start`.

### **ExercÃ­cio 2**

- Crie o endpointÂ `GET /cep/:cep`
    - O endpoint deve receber, no parÃ¢metroÂ `:cep`, um nÃºmero de CEP vÃ¡lido;
    - O CEP precisa conter 8 dÃ­gitos numÃ©ricos e pode ou nÃ£o possuir traÃ§o;
        - ğŸ‘€Â **De olho na dica:**Â utilize o regexÂ `^\d{5}-?\d{3}$`Â para validar o CEP;
    - Caso o CEP seja invÃ¡lido, retorne o statusÂ `400 Bad Request`Â e o seguinte JSON:

Copiar

`{ "error": { "code": "invalidData", "message": "CEP invÃ¡lido" } }`

- Caso o CEP seja vÃ¡lido, realize uma busca no banco de dados;
    - Caso o CEP nÃ£o exista no banco de dados, retorne o statusÂ `404 Not Found`Â e o seguinte JSON:

Copiar

`{ "error": { "code": "notFound", "message": "CEP nÃ£o encontrado" } }`

Copiar

`- Caso o CEP exista, retorne o status `200 OK` e os dados do CEP no seguinte formato:`

Copiar

`{
  "cep": "01001-000",
  "logradouro": "PraÃ§a da SÃ©",
  "bairro": "SÃ©",
  "localidade": "SÃ£o Paulo",
  "uf": "SP",
}`

### **ExercÃ­cio 3**

- Crie o endpointÂ `POST /cep`
    - O endpoint deve receber a seguinte estrutura no corpo da requisiÃ§Ã£o:

Copiar

`{
  "cep": "01001-000",
  "logradouro": "PraÃ§a da SÃ©",
  "bairro": "SÃ©",
  "localidade": "SÃ£o Paulo",
  "uf": "SP",
}`

- Todos os campos sÃ£o obrigatÃ³rios;
- Utilize oÂ `Joi`Â para realizar a validaÃ§Ã£o. Em caso de erro, retorne o statusÂ `400 Bad Request`, com o seguinte JSON:

Copiar

`{ "error": { "code": "invalidData", "message": "<mensagem do Joi>" } }`

- O CEP deve ser composto por 9 dÃ­gitosÂ **com**Â traÃ§o;
    - ğŸ‘€Â **De olho na dica:**Â utilize o seguinte regex para validar o CEP:Â `^\d{5}-?\d{3}$`
- Se o CEP jÃ¡ existir, retorne o statusÂ `409 Conflict`Â com o seguinte JSON:

Copiar

`{
  "error": { "code": "alreadyExists", "message": "CEP jÃ¡ existente" }
}`

- Se o CEP ainda nÃ£o existir, armazene-o no banco de dados e retorne o statusÂ `201 Created`Â com os dados do novo CEP no seguinte formato:

Copiar

`{
  "cep": "01001-000",
  "logradouro": "PraÃ§a da SÃ©",
  "bairro": "SÃ©",
  "localidade": "SÃ£o Paulo",
  "uf": "SP",
}`